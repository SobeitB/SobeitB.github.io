{"version":3,"file":"static/js/673.7eb6946a.chunk.js","mappings":"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","sources":["pages/PilgrimDetails/PilgrimDetails.jsx"],"sourcesContent":["import {useState, useEffect, useCallback} from 'react';\r\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\r\nimport HeaderTop from '../../assets/img/header-top.png';\r\nimport HeaderBot from '../../assets/img/header-bot.png';\r\nimport imgFrame from '../../assets/img/frame.png';\r\nimport imgAdvantages from '../../assets/img/advantages.png';\r\nimport imgDisadvantages from '../../assets/img/disadvantages.png';\r\nimport imgSkills from '../../assets/img/skills.png';\r\nimport imgPets from '../../assets/img/pets.png';\r\nimport btnLeft from '../../assets/img/left.png';\r\nimport btnParas from '../../assets/img/btn-paras.png';\r\nimport btnRight from '../../assets/img/right.png';\r\nimport {OWNER_ADDRESS} from '../../env'\r\n\r\nimport {\r\n  useParams,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nconst PilgrimDetails = ({ kclick, tshow }) => {\r\n   const [ownedNft, setOwnedNft] = useState([]);\r\n   // const [allNft, setAllNft] = useState([]);\r\n   const [metadata, setMetadata] = useState([]);\r\n   const [isOwned, setIsOwned] = useState(0);\r\n   const [isEdit, setIsEdit] = useState(false);\r\n   const [isEditable, setEditable] = useState(1);\r\n   const [story, setStory] = useState(null)\r\n   const [tempstory, setTempStory] = useState(null)\r\n   const [pilgrimConn, setPilgrimConn] = useState([])\r\n   const [tempConn, setTempConn] = useState([])\r\n   \r\n   const [conndata0, setConnData0] = useState([])\r\n   const [conndata1, setConnData1] = useState([])\r\n   const [conndata2, setConnData2] = useState([])\r\n   const [conndata3, setConnData3] = useState([])\r\n\r\n   let { token_id } = useParams();\r\n\r\n   async function get_owned_nft () {\r\n      const owned_nft = await window.contract_nft.nft_tokens_for_owner({ account_id: window.accountId });\r\n      setOwnedNft([...owned_nft]);\r\n      if(window.accountId === OWNER_ADDRESS){\r\n         setIsOwned(1)\r\n      }else{\r\n         console.log(owned_nft.filter(x => x.token_id === token_id ).length)\r\n         setIsOwned(owned_nft.filter(x => x.token_id === token_id ).length)\r\n      }\r\n   };\r\n\r\n   const get_story = async () =>{\r\n      console.log(window.contract)\r\n      await window.contract.get_story({ nft_id: token_id })\r\n         .then(stry => {\r\n            if(stry !== \"Hello\"){\r\n               stry = JSON.parse(stry)\r\n               setStory(stry.story)\r\n               setTempStory(stry.story)\r\n               setPilgrimConn(JSON.parse(stry.nft_connection))\r\n               setTempConn(JSON.parse(stry.nft_connection))\r\n               get_conn_params(JSON.parse(stry.nft_connection))\r\n               if(window.accountId){\r\n                  if(window.accountId !== OWNER_ADDRESS){\r\n                  setEditable(0)\r\n                  }\r\n               }\r\n\r\n            }else{\r\n               setStory(\"Hello\")\r\n               setTempStory(\"Hello\")\r\n               setPilgrimConn([null,null,null,null])\r\n               setTempConn([null,null,null,null])\r\n               get_conn_params([null,null,null,null])\r\n            }\r\n         // console.log(isEditable)\r\n         })\r\n   }\r\n\r\n   useEffect(() => {\r\n      // get_all_nft();\r\n      if(token_id > 1776 || token_id<0) return;\r\n      get_story();\r\n      get_params(token_id);\r\n\r\n      if (!window.accountId) return;\r\n      get_owned_nft();\r\n   }, [token_id]);\r\n\r\n   const delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\n   const save_story = async () => {\r\n      kclick({\"show\":true,\"msg\":\"Saving the Story\",\"head\":\"Saving\"})\r\n      await window.contract.set_story({\r\n         story: tempstory,\r\n         nft_id: token_id,\r\n         nft_connection: JSON.stringify(tempConn)\r\n      })\r\n\r\n      get_story();\r\n\r\n      kclick({\"show\":false,\"msg\":\"Saving the Story\",\"head\":\"Saving\"})\r\n      kclick({\"show\":true,\"msg\":\"Success\",\"head\":\"Success\"})\r\n      await delay(3000);\r\n      kclick({\"show\":false,\"msg\":\"Success\",\"head\":\"Success\"})\r\n\r\n      // await alert(\"success\")\r\n      setIsEdit(false)\r\n   }\r\n\r\n   const get_params = async (tokenId) => {\r\n      await fetch(`https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${tokenId}.json`)\r\n      .then(response => response.json())\r\n      .then(setMetadata)\r\n      .catch(console.error)\r\n   }\r\n\r\n   const get_conn_params = useCallback(async(arr) => {\r\n\r\n      if(arr[0]>0) {\r\n         fetch(`https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${arr[0]}.json`)\r\n         .then(response => response.json())\r\n         .then((jsonData) => {\r\n         setConnData0(jsonData)\r\n         })\r\n         .catch((error) => {\r\n         console.error(error)\r\n         })\r\n      }\r\n      if(arr[1]>0){\r\n         fetch(`https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${arr[1]}.json`)\r\n         .then(response => response.json())\r\n         .then((jsonData) => {\r\n         setConnData1(jsonData)\r\n         })\r\n         .catch((error) => {\r\n         console.error(error)\r\n         })\r\n      }\r\n      if(arr[2]>0){\r\n         fetch(`https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${arr[2]}.json`)\r\n         .then(response => response.json())\r\n         .then((jsonData) => {\r\n         setConnData2(jsonData)\r\n         })\r\n         .catch((error) => {\r\n         console.error(error)\r\n         })\r\n      }\r\n      if(arr[3]>0){\r\n         fetch(`https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${arr[3]}.json`)\r\n         .then(response => response.json())\r\n         .then((jsonData) => {\r\n         setConnData3(jsonData)\r\n         })\r\n         .catch((error) => {\r\n         console.error(error)\r\n         })\r\n      }\r\n   }, [setConnData3]) \r\n\r\n   // const get_all_nft = async () => {\r\n   //    const all_nft = await window.contract_nft.nft_tokens();\r\n   //    setAllNft([...all_nft]);\r\n   // };\r\n\r\n   if(isNaN(token_id)){\r\n      return \"ERR\";\r\n   }\r\n\r\n   let lorebox;\r\n   if(isOwned && isEdit){\r\n      lorebox = (\r\n         <>\r\n         <Form.Control as=\"textarea\" rows={17} onChange={x => setTempStory(x.target.value)} defaultValue={tempstory} disabled={tshow.show} />\r\n         <br />\r\n         </>\r\n         )\r\n   }else{\r\n      let h = \"495px\";\r\n      if(isEditable){\r\n         h = \"455px\";\r\n      }\r\n      lorebox = (\r\n         <p style={{overflowY: \"auto\", height: h, color: \"#543927\", whiteSpace: \"pre-wrap\"}}>\r\n         {story}\r\n         </p>\r\n         )\r\n   }\r\n   const updateConn = async (val,index) => {\r\n      let newArr = [...tempConn];\r\n      newArr[index] = (val === '' ? null : Number(val)) ;\r\n\r\n      await setTempConn(newArr)\r\n   }\r\n\r\n   function hidechar(val){\r\n      if(typeof val !== \"undefined\"){\r\n         const val1 = val.slice(0,20);\r\n\r\n         return (`${val1} ...`);\r\n      }\r\n   }\r\n\r\n   return (\r\n      <div className=\"pilgrim py-5\">\r\n         <Container className=\"pilgrim_detail p-2 p-sm-5\">  \r\n         <Row>\r\n            <Col md={6} xs={12} className=\"py-3 px-4\">\r\n               <Row className=\"justify-content-md-center\">\r\n               <Col md={12} sm={12} className=\"text-center py-2\">\r\n                  <img src={HeaderTop} className=\"img-fluid\" alt=\"\" />\r\n                     <i style={{fontSize: \"25px\"}}>{metadata.title}</i>\r\n                  <img src={HeaderBot} className=\"img-fluid\" alt=\"\" />\r\n               </Col>\r\n               <Col md={7} sm={12} className=\" py-2\">\r\n                  <div className=\"with_frame\"\r\n                  style={{background: `url(https://cloudflare-ipfs.com/ipfs/bafybeicx2okilwtljyac2b5prutqodxkouyvfgysuav6pspoznn2n2qs2i/${token_id}.png)`}}\r\n                  >\r\n                     <img\r\n                     src={imgFrame}\r\n                     width=\"100%\"\r\n                     style={{ cursor: \"pointer\" }}\r\n                     className=\"img-fluid\"\r\n                     alt=\"\"\r\n                     />\r\n                  </div>\r\n               </Col>\r\n               </Row>\r\n               <Row className=\"pt-4\">\r\n               <Col xs={12} sm={6} className=\"py-2\">\r\n                  <div className=\"with_frame2 py-3 px-4\">\r\n                     <Row>\r\n                     <Col xs={3}>\r\n                        <img src={imgAdvantages} className=\"img-fluid\" alt=\"\"/>\r\n                     </Col>\r\n                     <Col xs={9}>\r\n                        <b style={{color: \"#543927\"}}>Advantages</b><br/><small>{(metadata?.advantages?.map((e,i)=>{ return(`${e.name}, `)}) || \"-\")}</small>\r\n                     </Col>\r\n                     </Row>\r\n                  </div>\r\n               </Col>\r\n               <Col xs={12} sm={6} className=\"py-2\">\r\n                  <div className=\"with_frame2 py-3 px-4\">\r\n                     <Row>\r\n                     <Col xs={3}>\r\n                        <img src={imgDisadvantages} className=\"img-fluid\" alt=\"\"/>\r\n                     </Col>\r\n                     <Col xs={9}>\r\n                        <b style={{color: \"#543927\"}}>Disadvantages</b><br/><small>{(metadata?.disadvantages?.map((e,i)=>{ return(`${e.name}, `)}) || \"-\")}</small>\r\n                     </Col>\r\n                     </Row>\r\n                  </div>\r\n               </Col>\r\n               <Col xs={12} sm={6} className=\"py-2\">\r\n                  <div className=\"with_frame2 py-3 px-4\">\r\n                     <Row>\r\n                     <Col xs={3}>\r\n                        <img src={imgSkills} className=\"img-fluid\" alt=\"\"/>\r\n                     </Col>\r\n                     <Col xs={9}>\r\n                        <b style={{color: \"#543927\"}}>Skills</b><br/><small>{(metadata?.skills?.map((e,i)=>{ return(`${e.name}, `)}) || \"-\")}</small>\r\n                     </Col>\r\n                     </Row>\r\n                  </div>\r\n               </Col>\r\n               <Col xs={12} sm={6} className=\"py-2\">\r\n                  <div className=\"with_frame2 py-3 px-4\">\r\n                     <Row>\r\n                     <Col xs={3}>\r\n                        <img src={imgPets} className=\"img-fluid\" alt=\"\"/>\r\n                     </Col>\r\n                     <Col xs={9}>\r\n                        <b style={{color: \"#543927\"}}>Pet</b><br/><small>{(metadata?.attributes?.filter(x => x.trait_type === \"Pets\" )?.map((e,i)=>{ return(`${e.value}, `)}) || \"-\")}</small>\r\n                     </Col>\r\n                     </Row>\r\n                  </div>\r\n               </Col>\r\n               </Row>\r\n            </Col>\r\n            <Col md={6} xs={12} className=\"py-3 px-4\">\r\n               <Row>\r\n               <Col xs={12}>\r\n                  <b>Story :</b> <br / >\r\n                     {lorebox}\r\n\r\n               </Col>\r\n               </Row>\r\n               <Row className=\"text-center py-2 justify-content-md-center\">\r\n               <Col xs={6} className={`${pilgrimConn?.[0]>0 ? 'btn-conn' : ''}`}>\r\n                  {isOwned && isEdit? \r\n                     <Form.Control type=\"number\" placeholder=\"Enter ID\" defaultValue={pilgrimConn?.[0]} onChange={e => updateConn(e.target.value,0) } disabled={tshow.show} />\r\n                  :\r\n                     <Link to={`/pilgrim/${pilgrimConn?.[0]}`}>\r\n                     {hidechar(conndata0?.title)}          \r\n                     </Link>\r\n                  }\r\n               </Col>\r\n               <Col xs={6} className={`${pilgrimConn?.[1]>0 ? 'btn-conn' : ''}`}>\r\n                  {isOwned && isEdit? \r\n                     <Form.Control type=\"number\" placeholder=\"Enter ID\" defaultValue={pilgrimConn?.[1]} onChange={e => updateConn(e.target.value,1) } disabled={tshow.show} />\r\n                  :\r\n                     <Link to={`/pilgrim/${pilgrimConn?.[1]}`}>\r\n                     {hidechar(conndata1?.title)}\r\n                     </Link>\r\n                  }  \r\n               </Col>\r\n               <Col xs={6} className={`${pilgrimConn?.[2]>0 ? 'btn-conn' : ''}`}>\r\n                  {isOwned && isEdit? \r\n                     <Form.Control type=\"number\" placeholder=\"Enter ID\" defaultValue={pilgrimConn?.[2]} onChange={e => updateConn(e.target.value,2) } disabled={tshow.show} />\r\n                  :\r\n                     <Link to={`/pilgrim/${pilgrimConn?.[2]}`}>\r\n                     {hidechar(conndata2?.title)}          \r\n                     </Link>\r\n                  }     \r\n               </Col>\r\n\r\n               <Col xs={6} className={`${pilgrimConn?.[3]>0 ? 'btn-conn' : ''}`}>\r\n                  \r\n                  {isOwned && isEdit? \r\n                     <Form.Control type=\"number\" placeholder=\"Enter ID\" defaultValue={pilgrimConn?.[3]} onChange={e => updateConn(e.target.value,3) } disabled={tshow.show} />\r\n                  :\r\n                     <Link to={`/pilgrim/${pilgrimConn?.[3]}`}>\r\n                     {hidechar(conndata3?.title)}          \r\n                     </Link>\r\n                  }      \r\n               </Col>\r\n               </Row>\r\n               <Row>\r\n               <Col xs={12} className=\"px-5\">\r\n               {isOwned && isEdit ? \r\n                  <Button onClick={save_story}>Save Story</Button>\r\n                  : \r\n                  isOwned && isEditable ? <Button onClick={e=>setIsEdit(true)}>Edit</Button> : \"\"\r\n               }\r\n               </Col>\r\n               </Row>\r\n            </Col>\r\n         </Row>\r\n         <Row>\r\n            <Col xs={2} md={2} className=\"py-2 pb-5\">\r\n               {token_id > 0 ?\r\n               <Link to={token_id-1}><img src={btnLeft} height=\"40px\" alt=\"\"/></Link>\r\n               :\r\n               \"\"\r\n               }\r\n            </Col>\r\n            <Col xs={8} md={8} className=\"py-2 text-center text-sm-start\">\r\n               <a \r\n                  href={`https://paras.id/token/623c2cd4294f600e58f46fa2.astrogenfunds.near::${token_id}/${token_id}`} \r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n               >\r\n                     <img src={btnParas} height=\"40px\" alt=\"\" /> \r\n               </a>\r\n            </Col>\r\n            <Col xs={2} md={2} className=\"py-2 text-center text-sm-end\">\r\n               {token_id < 1776 ?\r\n               <Link to={Number(token_id)+1}><img src={btnRight} height=\"40px\" alt=\"\"/></Link>\r\n               :\r\n               \"\"\r\n               }\r\n            </Col>\r\n         </Row>\r\n         </Container>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default PilgrimDetails;\r\n"],"names":["kclick","tshow","useState","setOwnedNft","metadata","setMetadata","isOwned","setIsOwned","isEdit","setIsEdit","isEditable","setEditable","story","setStory","tempstory","setTempStory","pilgrimConn","setPilgrimConn","tempConn","setTempConn","conndata0","setConnData0","conndata1","setConnData1","conndata2","setConnData2","conndata3","setConnData3","token_id","useParams","window","contract_nft","nft_tokens_for_owner","account_id","accountId","owned_nft","OWNER_ADDRESS","console","log","filter","x","length","get_story","contract","nft_id","then","stry","JSON","parse","nft_connection","get_conn_params","useEffect","get_params","get_owned_nft","lorebox","delay","ms","Promise","res","setTimeout","save_story","set_story","stringify","tokenId","fetch","response","json","catch","error","useCallback","arr","jsonData","isNaN","Form","as","rows","onChange","target","value","defaultValue","disabled","show","h","style","overflowY","height","color","whiteSpace","updateConn","val","index","newArr","Number","hidechar","val1","slice","className","Container","Row","Col","md","xs","sm","src","HeaderTop","alt","fontSize","title","HeaderBot","background","imgFrame","width","cursor","imgAdvantages","advantages","map","e","i","name","imgDisadvantages","disadvantages","imgSkills","skills","imgPets","attributes","trait_type","type","placeholder","to","Button","onClick","href","rel"],"sourceRoot":""}